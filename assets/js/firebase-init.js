// firebase-init.js
// Initialise Firebase from the client configuration in a non-module
// context. This script is loaded before any other Firebase scripts to
// ensure that the Firebase namespace is available globally. It also
// prevents re-initialisation by checking a flag on the window object.

// Firebase configuration copied from config.js. This duplication is
// intentional because this file runs in the global context before
// modules are executed. If you update the project configuration in
// config.js you should reflect the changes here as well.
const firebaseConfig = {
  apiKey: "AIzaSyC8yYWxiOH6HRHtBpPA5Qe3_ryV5BKS8m8",
  authDomain: "tomstom-8.firebaseapp.com",
  databaseURL: "https://tomstom-8-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "tomstom-8",
  storageBucket: "tomstom-8.firebasestorage.app",
  messagingSenderId: "595696774612",
  appId: "1:595696774612:web:83f068cfa637f7a26d3a41",
};

// If the Firebase namespace is present (loaded via the CDN scripts) and
// the app hasn't been initialised yet, call initialiseApp(). This is
// equivalent to the snippet generated by the Firebase console.
if (window.firebase && firebase.initializeApp && !window._tomstomFirebaseApp) {
  window._tomstomFirebaseApp = firebase.initializeApp(firebaseConfig);
}
